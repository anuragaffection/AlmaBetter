<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task DOM Manipulation</title>
</head>

<body>
    <!-- task 01  -->
    <h2>Task 1 = DOM Manipulation</h2>
    <button id="changeColorBtn">Change Color</button>
    <div id="colorDiv" style="width: 200px; height: 100px; margin-top: 10px; border: solid 0.2rem"></div>
    <button id="appendParagraphBtn">Append Paragraph</button>

    <!-- Task 2: Event Listeners and Event Object -->
    <h2>Task 2: Event Listeners and Event Object</h2>
    <button id="clickBtn">Click Me</button>
    <p id="clickCount">Button clicked 0 times.</p>

    <!-- Task 3: Event Propagation and Event Delegation -->
    <h2>Task 3: Event Propagation and Event Delegation</h2>
    <div id="parentDiv">
        <button>Button 1</button>
        <button>Button 2</button>
    </div>
</body>



<script>

    // task 01
    const changeColorBtn = document.getElementById('changeColorBtn');
    const colorDiv = document.getElementById('colorDiv');
    const appendParagraphBtn = document.getElementById('appendParagraphBtn');

    changeColorBtn.addEventListener('click', function (event){
        let random = Math.random();
        let letters = '0123456789ABCDE'
        let color = '#';
        for (let i = 0; i < 6; i++){
            color += letters[Math.floor(random * 16)];
        }
        colorDiv.style.backgroundColor = color;

    });

    appendParagraphBtn.addEventListener('click', function(event){
        const newParagraph = document.createElement('p');
        newParagraph.textContent = "Your are Awesome";
        colorDiv.appendChild(newParagraph);

    });



    // task 02
    const clickBtn = document.getElementById('clickBtn');
    const clickCount = document.getElementById('clickCount');

    let count = 0;
    clickBtn.addEventListener('click', function (event){
        count ++;
        clickCount.textContent = `Button clicked ${count} times`;  
    });



    // task 03
    const parentDiv = document.getElementById('parentDiv');
    const buttons = parentDiv.querySelectorAll('button'); 
    // selecting all buttons form parentdiv only

    for (let i = 0; i < buttons.length ; i++){
        buttons[i].addEventListener('click', function(event){
            alert(` ${event.target.textContent} clicked`);
        })
    }

    // event delegation = to shorten the above code 
    parentDiv.addEventListener('click', function(){
        if (event.target.tagName === 'BUTTON'){
            alert(`${event.target.textContent} clicked by using delegation`);
        }
    })

</script>

</html>